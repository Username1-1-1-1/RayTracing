# 1. 렌더링 기본 개념

## 1.1 픽셀 색상 나타내기

먼저 r, g, b값을 0~1 사이의 값으로 정규화.
다음 이 값들에 255.999를 곱해서 양자화.

## 1.2 이미지 생성하기

P3 : PPM(Portable Pixmap) 이미지 파일 형식을 나타내는 매직 넘버.
실행파일 > image.ppm 명령어로 이미지 파일 생성.
리다이렉션 연산자(>): stdout을 지정된 파일로 보내 기록하는 역할.

## 1.3 광선

선형보간(Linear Interpolation, Lerp): 두 알려진 값 사이의 중간 지점 값을 선형적으로 추정하는 수학적 방법.

$$V_{\text{lerp}} = (1-a) \cdot V_{\text{start}}+a\cdot V_{\text{end}}$$
​
## 1.4 구와 광선

구는 다음 수식으로 나타낼 수 있다.

$$(C - P)\cdot(C-P) = r^2$$

광선 식은 
$$P(t) = Q + td$$
이므로 두 식을 연립하면 다음과 같이 된다.

$$
(C-Q-td)\cdot(C-Q-td)=r^2
$$
$$
(-td+(C-Q))\cdot(-td+(C-Q))=r^2
$$
$$
t^2d\cdot d -2td\cdot(C-Q)+(C-Q)^2 = r^2
$$
$D=b^2-4ac$의 값에 따라 직선이 구와 만나는지, 접하는지, 안 만나는지 알 수 있다(충돌감지).

# 2. C++ 문법
## 2.1 virtual
C++에서 다형성(Polymorphism)을 구현하는데 사용되는 핵심 개념이다. 상속 관계에 있는 클래스들 간에 어떤 함수를 실행할지 런타임에 결정하도록 지정하는 역할을 한다.

### 2.1.1 동적바인딩
일반적인 C++ 함수 호출은 컴파일 시간에 결정된다(정적바인딩). 하지만 virtual 함수는 컴파일러에게 

***"이 함수는 런타임에 실제 객체 타입을 확인하고 결정해야한다"***

고 지시한다. 부모 클랫의 포인터나 참조를 통해 자식 클래스의 객체를 가리킬 때, virtual 함수를 호출하면

***포인터 타입(부모)이 아닌 실제 객체 타입(자식)***

에 정의된 함수가 실행된다.

### 2.1.2 가상함수테이블(`vtable`)

`virtual`키워드가 붙은 함수를 가진 클래스는 컴파일러에 의해 가상 함수 테이블(`vtable`)이라는 특별한 테이블이 생성된다.

- `vtable`은 해당 클래스의 모든 가상 함수의 주소를 저장한다.
- 객체에는 이 `vtable`을 가리키는 포인터(`vptr`)가 숨겨져 포함된다.
- 함수 호출 시, `vptr`를 통해 `vtable`에 접근하여 실행해야 할 정확한 함수 주소를 찾아 실행한다.


### 2.1.3 순수 가상 함수(Pure Virtual Function)

함수 선언 뒤에 `=0` 을 붙여 함수의 구현을 강제한다.

- 추상 클래스(Abstract Class): 순수 가상 함수를 하나라도 포함하는 클래스는 추상 클래스가 되며, 객체를 직접 생성할 수 없다. 오직 상속을 위한 인터페이스 역할만 수행한다.

### 2.1.4 가상 소멸자(Virtual Destructor)

다형적 객체를 `delete`할 때, 부모 포인터를 통해 자식 객체를 삭제하더라도 자식 클래스의 소멸자와 부모 클래스의 소멸자가 모두 올바르게 호출되도록 보장하여 메모리 누수를 방지한다.




